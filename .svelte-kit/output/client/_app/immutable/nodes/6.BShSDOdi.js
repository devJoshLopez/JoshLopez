import{s as F,a as B}from"../chunks/scheduler.kLU6lpw6.js";import{S as J,i as K,e as b,s as w,c as x,f as k,g as Q,a as E,d as v,h as g,b as D,j as p,t as V,k as U,l as P,m as L,n as O,o as X,p as q,q as Y,r as Z,u as z,v as ee,w as te,x as C}from"../chunks/index.Djk3OmZN.js";import{e as j,R as le}from"../chunks/RetroButton.DvEY9uQB.js";import{v as ae}from"../chunks/vhs-overlay.CwZ0r_dR.js";async function se({fetch:r}){return{posts:await(await r("/api/posts")).json()}}const fe=Object.freeze(Object.defineProperty({__proto__:null,load:se},Symbol.toStringTag,{value:"Module"}));function H(r,e,a){const t=r.slice();return t[2]=e[a],t[4]=a,t}function M(r,e,a){const t=r.slice();return t[5]=e[a],t}function N(r){let e,a,t,s,c,o,d,l=r[2].categories&&T(r);return{c(){e=b("div"),l&&l.c(),a=w(),t=b("img"),o=w(),d=b("div"),this.h()},l(f){e=x(f,"DIV",{class:!0,style:!0});var n=k(e);l&&l.l(n),a=E(n),t=x(n,"IMG",{src:!0,alt:!0,class:!0}),o=E(n),d=x(n,"DIV",{class:!0,style:!0}),k(d).forEach(v),n.forEach(v),this.h()},h(){B(t.src,s=r[2].image.startsWith(".")?r[2].image.substring(1):r[2].image)||g(t,"src",s),g(t,"alt",c=r[2].title),g(t,"class","absolute left-0 top-0 h-full w-full rounded-md object-cover"),g(d,"class","pointer-events-none absolute left-0 top-0 h-full w-full rounded-md opacity-30 mix-blend-overlay"),C(d,"background-image","url("+ae+")"),C(d,"background-size","cover"),g(e,"class","relative mb-4 flex-shrink-0 overflow-hidden rounded-md"),C(e,"padding-top","56.25%")},m(f,n){D(f,e,n),l&&l.m(e,null),p(e,a),p(e,t),p(e,o),p(e,d)},p(f,n){f[2].categories?l?l.p(f,n):(l=T(f),l.c(),l.m(e,a)):l&&(l.d(1),l=null),n&1&&!B(t.src,s=f[2].image.startsWith(".")?f[2].image.substring(1):f[2].image)&&g(t,"src",s),n&1&&c!==(c=f[2].title)&&g(t,"alt",c)},d(f){f&&v(e),l&&l.d()}}}function T(r){let e,a=j(r[2].categories),t=[];for(let s=0;s<a.length;s+=1)t[s]=A(M(r,a,s));return{c(){e=b("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=x(s,"DIV",{class:!0});var c=k(e);for(let o=0;o<t.length;o+=1)t[o].l(c);c.forEach(v),this.h()},h(){g(e,"class","absolute left-2 top-2 z-10 flex flex-wrap items-center gap-2")},m(s,c){D(s,e,c);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,c){if(c&1){a=j(s[2].categories);let o;for(o=0;o<a.length;o+=1){const d=M(s,a,o);t[o]?t[o].p(d,c):(t[o]=A(d),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=a.length}},d(s){s&&v(e),L(t,s)}}}function A(r){let e,a=r[5]+"",t,s;return{c(){e=b("span"),t=O(a),s=w(),this.h()},l(c){e=x(c,"SPAN",{class:!0});var o=k(e);t=q(o,a),s=E(o),o.forEach(v),this.h()},h(){g(e,"class","whitespace-nowrap rounded-md bg-violet-50/50 px-2 py-1 text-xs text-black")},m(c,o){D(c,e,o),p(e,t),p(e,s)},p(c,o){o&1&&a!==(a=c[5]+"")&&z(t,a)},d(c){c&&v(e)}}}function G(r){let e,a,t,s=r[2].title+"",c,o,d,l=r[2].description+"",f,n,u,i,y,S,$,_=r[2].image&&N(r);return i=new le({props:{url:`/writings/${r[2].slug}`,label:"Read more"}}),{c(){e=b("div"),_&&_.c(),a=w(),t=b("h2"),c=O(s),o=w(),d=b("p"),f=O(l),n=w(),u=b("div"),X(i.$$.fragment),y=w(),this.h()},l(m){e=x(m,"DIV",{class:!0});var h=k(e);_&&_.l(h),a=E(h),t=x(h,"H2",{class:!0});var I=k(t);c=q(I,s),I.forEach(v),o=E(h),d=x(h,"P",{class:!0});var R=k(d);f=q(R,l),R.forEach(v),n=E(h),u=x(h,"DIV",{class:!0});var W=k(u);Y(i.$$.fragment,W),W.forEach(v),y=E(h),h.forEach(v),this.h()},h(){g(t,"class","mb-2 text-xl font-bold"),g(d,"class","mb-4 flex-grow"),g(u,"class","mt-auto"),g(e,"class",S="relative col-span-1 flex flex-col rounded-md border border-violet-50/20 bg-gradient-to-b from-gray-50/15 to-gray-50/5 px-8 py-8 max-md:border-none max-md:bg-none max-md:p-0 "+r[1][r[4]])},m(m,h){D(m,e,h),_&&_.m(e,null),p(e,a),p(e,t),p(t,c),p(e,o),p(e,d),p(d,f),p(e,n),p(e,u),Z(i,u,null),p(e,y),$=!0},p(m,h){m[2].image?_?_.p(m,h):(_=N(m),_.c(),_.m(e,a)):_&&(_.d(1),_=null),(!$||h&1)&&s!==(s=m[2].title+"")&&z(c,s),(!$||h&1)&&l!==(l=m[2].description+"")&&z(f,l);const I={};h&1&&(I.url=`/writings/${m[2].slug}`),i.$set(I),(!$||h&2&&S!==(S="relative col-span-1 flex flex-col rounded-md border border-violet-50/20 bg-gradient-to-b from-gray-50/15 to-gray-50/5 px-8 py-8 max-md:border-none max-md:bg-none max-md:p-0 "+m[1][m[4]]))&&g(e,"class",S)},i(m){$||(V(i.$$.fragment,m),$=!0)},o(m){P(i.$$.fragment,m),$=!1},d(m){m&&v(e),_&&_.d(),ee(i)}}}function oe(r){let e,a,t,s="Writings",c,o,d=j(r[0].posts),l=[];for(let n=0;n<d.length;n+=1)l[n]=G(H(r,d,n));const f=n=>P(l[n],1,1,()=>{l[n]=null});return{c(){e=b("div"),a=b("section"),t=b("h1"),t.textContent=s,c=w();for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=x(n,"DIV",{class:!0});var u=k(e);a=x(u,"SECTION",{class:!0});var i=k(a);t=x(i,"H1",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-8amls2"&&(t.textContent=s),c=E(i);for(let y=0;y<l.length;y+=1)l[y].l(i);i.forEach(v),u.forEach(v),this.h()},h(){g(t,"class","col-span-full mb-6 text-4xl font-bold"),g(a,"class","section-glass relative mb-32 mt-3 grid grid-cols-1 gap-4 rounded-md p-8 text-white max-md:gap-16 md:grid-cols-3"),g(e,"class","mx-auto max-w-4xl px-4")},m(n,u){D(n,e,u),p(e,a),p(a,t),p(a,c);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(a,null);o=!0},p(n,[u]){if(u&3){d=j(n[0].posts);let i;for(i=0;i<d.length;i+=1){const y=H(n,d,i);l[i]?(l[i].p(y,u),V(l[i],1)):(l[i]=G(y),l[i].c(),V(l[i],1),l[i].m(a,null))}for(te(),i=d.length;i<l.length;i+=1)f(i);U()}},i(n){if(!o){for(let u=0;u<d.length;u+=1)V(l[u]);o=!0}},o(n){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)P(l[u]);o=!1},d(n){n&&v(e),L(l,n)}}}function ne(r){const e=r.length;if(e===1)return["md:col-span-3"];if(e===2)return["md:col-span-2","md:col-span-1"];if(e===3)return["md:col-span-2","md:col-span-1","md:col-span-3"];if(e===4)return["md:col-span-2","md:col-span-1","md:col-span-1","md:col-span-2"];const a=["md:col-span-2","md:col-span-1","md:col-span-1","md:col-span-2","md:col-span-1"];return r.map((t,s)=>a[s%a.length])}function re(r,e,a){let t,{data:s}=e;return r.$$set=c=>{"data"in c&&a(0,s=c.data)},r.$$.update=()=>{r.$$.dirty&1&&a(1,t=ne(s.posts))},[s,t]}class me extends J{constructor(e){super(),K(this,e,re,oe,F,{data:0})}}export{me as component,fe as universal};
