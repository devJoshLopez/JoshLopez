import{s as G,a as R}from"../chunks/scheduler.kLU6lpw6.js";import{S as F,i as J,e as v,s as $,c as b,f as k,g as K,a as E,d as g,h as p,b as C,j as _,t as D,k as L,l as x,m as A,n as M,o as Q,p as P,q as U,r as X,u as q,v as Y,w as Z}from"../chunks/index.Djk3OmZN.js";import{e as V}from"../chunks/each.D6YF6ztN.js";import{R as ee}from"../chunks/RetroButton.C4x639Yv.js";async function te({fetch:r}){return{posts:await(await r("/api/posts")).json()}}const ce=Object.freeze(Object.defineProperty({__proto__:null,load:te},Symbol.toStringTag,{value:"Module"}));function W(r,e,a){const t=r.slice();return t[1]=e[a],t}function z(r,e,a){const t=r.slice();return t[4]=e[a],t}function B(r){let e,a,t,o,c,l=r[1].categories&&H(r);return{c(){e=v("div"),l&&l.c(),a=$(),t=v("img"),this.h()},l(i){e=b(i,"DIV",{class:!0});var s=k(e);l&&l.l(s),a=E(s),t=b(s,"IMG",{src:!0,alt:!0,class:!0}),s.forEach(g),this.h()},h(){R(t.src,o=r[1].image.startsWith(".")?r[1].image.substring(1):r[1].image)||p(t,"src",o),p(t,"alt",c=r[1].title),p(t,"class","h-48 w-full rounded-md object-cover"),p(e,"class","relative mb-6 overflow-hidden rounded-md")},m(i,s){C(i,e,s),l&&l.m(e,null),_(e,a),_(e,t)},p(i,s){i[1].categories?l?l.p(i,s):(l=H(i),l.c(),l.m(e,a)):l&&(l.d(1),l=null),s&1&&!R(t.src,o=i[1].image.startsWith(".")?i[1].image.substring(1):i[1].image)&&p(t,"src",o),s&1&&c!==(c=i[1].title)&&p(t,"alt",c)},d(i){i&&g(e),l&&l.d()}}}function H(r){let e,a=V(r[1].categories),t=[];for(let o=0;o<a.length;o+=1)t[o]=N(z(r,a,o));return{c(){e=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var c=k(e);for(let l=0;l<t.length;l+=1)t[l].l(c);c.forEach(g),this.h()},h(){p(e,"class","absolute left-2 top-2 z-10 flex w-full flex-wrap items-center gap-2")},m(o,c){C(o,e,c);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,c){if(c&1){a=V(o[1].categories);let l;for(l=0;l<a.length;l+=1){const i=z(o,a,l);t[l]?t[l].p(i,c):(t[l]=N(i),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},d(o){o&&g(e),A(t,o)}}}function N(r){let e,a=r[4]+"",t,o;return{c(){e=v("span"),t=M(a),o=$(),this.h()},l(c){e=b(c,"SPAN",{class:!0});var l=k(e);t=P(l,a),o=E(l),l.forEach(g),this.h()},h(){p(e,"class","mr-2 whitespace-nowrap rounded-md bg-violet-50/50 px-2 py-1 text-xs text-black")},m(c,l){C(c,e,l),_(e,t),_(e,o)},p(c,l){l&1&&a!==(a=c[4]+"")&&q(t,a)},d(c){c&&g(e)}}}function T(r){let e,a,t,o=r[1].title+"",c,l,i,s=r[1].description+"",I,f,u,n,w,S,h=r[1].image&&B(r);return n=new ee({props:{url:`/writings/${r[1].slug}`,label:"Read more"}}),{c(){e=v("div"),h&&h.c(),a=$(),t=v("h2"),c=M(o),l=$(),i=v("p"),I=M(s),f=$(),u=v("div"),Q(n.$$.fragment),w=$(),this.h()},l(d){e=b(d,"DIV",{class:!0});var m=k(e);h&&h.l(m),a=E(m),t=b(m,"H2",{class:!0});var j=k(t);c=P(j,o),j.forEach(g),l=E(m),i=b(m,"P",{class:!0});var y=k(i);I=P(y,s),y.forEach(g),f=E(m),u=b(m,"DIV",{class:!0});var O=k(u);U(n.$$.fragment,O),O.forEach(g),w=E(m),m.forEach(g),this.h()},h(){p(t,"class","mt-4 text-xl font-bold"),p(i,"class","mt-2"),p(u,"class","mt-4"),p(e,"class","relative rounded-md bg-gray-800 p-4 "+se())},m(d,m){C(d,e,m),h&&h.m(e,null),_(e,a),_(e,t),_(t,c),_(e,l),_(e,i),_(i,I),_(e,f),_(e,u),X(n,u,null),_(e,w),S=!0},p(d,m){d[1].image?h?h.p(d,m):(h=B(d),h.c(),h.m(e,a)):h&&(h.d(1),h=null),(!S||m&1)&&o!==(o=d[1].title+"")&&q(c,o),(!S||m&1)&&s!==(s=d[1].description+"")&&q(I,s);const j={};m&1&&(j.url=`/writings/${d[1].slug}`),n.$set(j)},i(d){S||(D(n.$$.fragment,d),S=!0)},o(d){x(n.$$.fragment,d),S=!1},d(d){d&&g(e),h&&h.d(),Y(n)}}}function le(r){let e,a,t,o="Writings",c,l,i=V(r[0].posts),s=[];for(let f=0;f<i.length;f+=1)s[f]=T(W(r,i,f));const I=f=>x(s[f],1,1,()=>{s[f]=null});return{c(){e=v("div"),a=v("section"),t=v("h1"),t.textContent=o,c=$();for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=b(f,"DIV",{class:!0});var u=k(e);a=b(u,"SECTION",{class:!0});var n=k(a);t=b(n,"H1",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1itn174"&&(t.textContent=o),c=E(n);for(let w=0;w<s.length;w+=1)s[w].l(n);n.forEach(g),u.forEach(g),this.h()},h(){p(t,"class","col-span-full text-4xl font-bold"),p(a,"class","section-glass relative mb-32 mt-3 grid grid-flow-row-dense auto-rows-auto grid-cols-1 gap-4 rounded-md p-8 text-white sm:grid-cols-2 lg:grid-cols-3"),p(e,"class","mx-auto max-w-4xl px-4")},m(f,u){C(f,e,u),_(e,a),_(a,t),_(a,c);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(a,null);l=!0},p(f,[u]){if(u&1){i=V(f[0].posts);let n;for(n=0;n<i.length;n+=1){const w=W(f,i,n);s[n]?(s[n].p(w,u),D(s[n],1)):(s[n]=T(w),s[n].c(),D(s[n],1),s[n].m(a,null))}for(Z(),n=i.length;n<s.length;n+=1)I(n);L()}},i(f){if(!l){for(let u=0;u<i.length;u+=1)D(s[u]);l=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)x(s[u]);l=!1},d(f){f&&g(e),A(s,f)}}}function se(){const r=["col-span-1 row-span-1","col-span-2 row-span-1","col-span-1 row-span-2","col-span-2 row-span-2"];return r[Math.floor(Math.random()*r.length)]}function ae(r,e,a){let{data:t}=e;return r.$$set=o=>{"data"in o&&a(0,t=o.data)},[t]}class fe extends F{constructor(e){super(),J(this,e,ae,le,G,{data:0})}}export{fe as component,ce as universal};
