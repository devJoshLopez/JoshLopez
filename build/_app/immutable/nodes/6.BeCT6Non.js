import{s as F,a as B}from"../chunks/scheduler.kLU6lpw6.js";import{S as J,i as K,e as b,s as k,c as y,a as w,g as Q,b as E,d as v,f as g,h as I,j as p,t as V,l as U,k as P,r as L,u as z,m as X,v as O,n as Y,o as Z,w as q,p as ee,q as te,z as C}from"../chunks/index.DRR7xu6-.js";import{e as j,R as le}from"../chunks/RetroButton.CW5aqiH6.js";import{v as se}from"../chunks/vhs-overlay.CwZ0r_dR.js";async function ae({fetch:n}){return{posts:await(await n("/api/posts")).json()}}const fe=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));function H(n,e,s){const t=n.slice();return t[2]=e[s],t[4]=s,t}function M(n,e,s){const t=n.slice();return t[5]=e[s],t}function N(n){let e,s,t,a,i,o,d,l=n[2].categories&&T(n);return{c(){e=b("div"),l&&l.c(),s=k(),t=b("img"),o=k(),d=b("div"),this.h()},l(f){e=y(f,"DIV",{class:!0,style:!0});var r=w(e);l&&l.l(r),s=E(r),t=y(r,"IMG",{src:!0,alt:!0,class:!0}),o=E(r),d=y(r,"DIV",{class:!0,style:!0}),w(d).forEach(v),r.forEach(v),this.h()},h(){B(t.src,a=n[2].image.startsWith(".")?n[2].image.substring(1):n[2].image)||g(t,"src",a),g(t,"alt",i=n[2].title),g(t,"class","absolute left-0 top-0 h-full w-full rounded-md object-cover"),g(d,"class","pointer-events-none absolute left-0 top-0 h-full w-full rounded-md opacity-30 mix-blend-overlay"),C(d,"background-image","url("+se+")"),C(d,"background-size","cover"),g(e,"class","relative mb-4 flex-shrink-0 overflow-hidden rounded-md"),C(e,"padding-top","56.25%")},m(f,r){I(f,e,r),l&&l.m(e,null),p(e,s),p(e,t),p(e,o),p(e,d)},p(f,r){f[2].categories?l?l.p(f,r):(l=T(f),l.c(),l.m(e,s)):l&&(l.d(1),l=null),r&1&&!B(t.src,a=f[2].image.startsWith(".")?f[2].image.substring(1):f[2].image)&&g(t,"src",a),r&1&&i!==(i=f[2].title)&&g(t,"alt",i)},d(f){f&&v(e),l&&l.d()}}}function T(n){let e,s=j(n[2].categories),t=[];for(let a=0;a<s.length;a+=1)t[a]=A(M(n,s,a));return{c(){e=b("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=y(a,"DIV",{class:!0});var i=w(e);for(let o=0;o<t.length;o+=1)t[o].l(i);i.forEach(v),this.h()},h(){g(e,"class","absolute left-2 top-2 z-10 flex flex-wrap items-center gap-2")},m(a,i){I(a,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(a,i){if(i&1){s=j(a[2].categories);let o;for(o=0;o<s.length;o+=1){const d=M(a,s,o);t[o]?t[o].p(d,i):(t[o]=A(d),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=s.length}},d(a){a&&v(e),L(t,a)}}}function A(n){let e,s=n[5]+"",t,a;return{c(){e=b("span"),t=z(s),a=k(),this.h()},l(i){e=y(i,"SPAN",{class:!0});var o=w(e);t=O(o,s),a=E(o),o.forEach(v),this.h()},h(){g(e,"class","whitespace-nowrap rounded-md bg-violet-50/50 px-2 py-1 text-xs text-black")},m(i,o){I(i,e,o),p(e,t),p(e,a)},p(i,o){o&1&&s!==(s=i[5]+"")&&q(t,s)},d(i){i&&v(e)}}}function G(n){let e,s,t,a=n[2].title+"",i,o,d,l=n[2].description+"",f,r,u,c,x,S,$,_=n[2].image&&N(n);return c=new le({props:{url:`/writings/${n[2].slug}`,label:"Read more"}}),{c(){e=b("div"),_&&_.c(),s=k(),t=b("h2"),i=z(a),o=k(),d=b("p"),f=z(l),r=k(),u=b("div"),X(c.$$.fragment),x=k(),this.h()},l(m){e=y(m,"DIV",{class:!0});var h=w(e);_&&_.l(h),s=E(h),t=y(h,"H2",{class:!0});var D=w(t);i=O(D,a),D.forEach(v),o=E(h),d=y(h,"P",{class:!0});var R=w(d);f=O(R,l),R.forEach(v),r=E(h),u=y(h,"DIV",{class:!0});var W=w(u);Y(c.$$.fragment,W),W.forEach(v),x=E(h),h.forEach(v),this.h()},h(){g(t,"class","post-title mb-2 text-2xl font-bold svelte-1arxdyr"),g(d,"class","mb-4 flex-grow"),g(u,"class","mt-auto"),g(e,"class",S="relative col-span-1 flex flex-col rounded-md border border-violet-50/20 bg-gradient-to-b from-gray-50/15 to-gray-50/5 px-8 py-8 max-md:border-none max-md:bg-none max-md:p-0 "+n[1][n[4]]+" svelte-1arxdyr")},m(m,h){I(m,e,h),_&&_.m(e,null),p(e,s),p(e,t),p(t,i),p(e,o),p(e,d),p(d,f),p(e,r),p(e,u),Z(c,u,null),p(e,x),$=!0},p(m,h){m[2].image?_?_.p(m,h):(_=N(m),_.c(),_.m(e,s)):_&&(_.d(1),_=null),(!$||h&1)&&a!==(a=m[2].title+"")&&q(i,a),(!$||h&1)&&l!==(l=m[2].description+"")&&q(f,l);const D={};h&1&&(D.url=`/writings/${m[2].slug}`),c.$set(D),(!$||h&2&&S!==(S="relative col-span-1 flex flex-col rounded-md border border-violet-50/20 bg-gradient-to-b from-gray-50/15 to-gray-50/5 px-8 py-8 max-md:border-none max-md:bg-none max-md:p-0 "+m[1][m[4]]+" svelte-1arxdyr"))&&g(e,"class",S)},i(m){$||(V(c.$$.fragment,m),$=!0)},o(m){P(c.$$.fragment,m),$=!1},d(m){m&&v(e),_&&_.d(),ee(c)}}}function oe(n){let e,s,t,a="Writings",i,o,d=j(n[0].posts),l=[];for(let r=0;r<d.length;r+=1)l[r]=G(H(n,d,r));const f=r=>P(l[r],1,1,()=>{l[r]=null});return{c(){e=b("div"),s=b("section"),t=b("h1"),t.textContent=a,i=k();for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=y(r,"DIV",{class:!0});var u=w(e);s=y(u,"SECTION",{class:!0});var c=w(s);t=y(c,"H1",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-8amls2"&&(t.textContent=a),i=E(c);for(let x=0;x<l.length;x+=1)l[x].l(c);c.forEach(v),u.forEach(v),this.h()},h(){g(t,"class","col-span-full mb-6 text-4xl font-bold"),g(s,"class","section-glass relative mb-32 mt-3 grid grid-cols-1 gap-4 rounded-md p-8 text-white max-md:gap-16 md:grid-cols-3"),g(e,"class","mx-auto max-w-4xl")},m(r,u){I(r,e,u),p(e,s),p(s,t),p(s,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(s,null);o=!0},p(r,[u]){if(u&3){d=j(r[0].posts);let c;for(c=0;c<d.length;c+=1){const x=H(r,d,c);l[c]?(l[c].p(x,u),V(l[c],1)):(l[c]=G(x),l[c].c(),V(l[c],1),l[c].m(s,null))}for(te(),c=d.length;c<l.length;c+=1)f(c);U()}},i(r){if(!o){for(let u=0;u<d.length;u+=1)V(l[u]);o=!0}},o(r){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)P(l[u]);o=!1},d(r){r&&v(e),L(l,r)}}}function re(n){const e=n.length;if(e===1)return["md:col-span-3"];if(e===2)return["md:col-span-2","md:col-span-1"];if(e===3)return["md:col-span-2","md:col-span-1","md:col-span-3"];if(e===4)return["md:col-span-2","md:col-span-1","md:col-span-1","md:col-span-2"];const s=["md:col-span-2","md:col-span-1","md:col-span-1","md:col-span-2","md:col-span-1"];return n.map((t,a)=>s[a%s.length])}function ne(n,e,s){let t,{data:a}=e;return a.posts=a.posts.sort((i,o)=>new Date(o.date)-new Date(i.date)),n.$$set=i=>{"data"in i&&s(0,a=i.data)},n.$$.update=()=>{n.$$.dirty&1&&s(1,t=re(a.posts))},[a,t]}class me extends J{constructor(e){super(),K(this,e,ne,oe,F,{data:0})}}export{me as component,fe as universal};
