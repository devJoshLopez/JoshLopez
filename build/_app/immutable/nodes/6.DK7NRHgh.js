import{s as G,a as R}from"../chunks/scheduler.kLU6lpw6.js";import{S as F,i as J,e as v,s as $,c as b,f as k,g as K,a as E,d as g,h as p,b as C,j as m,t as D,k as L,l as x,m as A,n as M,o as Q,p as P,q as U,r as X,u as q,v as Y,w as Z}from"../chunks/index.BPHKr1mN.js";import{e as V,R as ee}from"../chunks/RetroButton.C8ewPS3E.js";async function te({fetch:r}){return{posts:await(await r("/api/posts")).json()}}const ie=Object.freeze(Object.defineProperty({__proto__:null,load:te},Symbol.toStringTag,{value:"Module"}));function W(r,e,a){const t=r.slice();return t[1]=e[a],t}function z(r,e,a){const t=r.slice();return t[4]=e[a],t}function B(r){let e,a,t,n,c,l=r[1].categories&&H(r);return{c(){e=v("div"),l&&l.c(),a=$(),t=v("img"),this.h()},l(i){e=b(i,"DIV",{class:!0});var s=k(e);l&&l.l(s),a=E(s),t=b(s,"IMG",{src:!0,alt:!0,class:!0}),s.forEach(g),this.h()},h(){R(t.src,n=r[1].image.startsWith(".")?r[1].image.substring(1):r[1].image)||p(t,"src",n),p(t,"alt",c=r[1].title),p(t,"class","h-48 w-full rounded-md object-cover"),p(e,"class","relative mb-6 overflow-hidden rounded-md")},m(i,s){C(i,e,s),l&&l.m(e,null),m(e,a),m(e,t)},p(i,s){i[1].categories?l?l.p(i,s):(l=H(i),l.c(),l.m(e,a)):l&&(l.d(1),l=null),s&1&&!R(t.src,n=i[1].image.startsWith(".")?i[1].image.substring(1):i[1].image)&&p(t,"src",n),s&1&&c!==(c=i[1].title)&&p(t,"alt",c)},d(i){i&&g(e),l&&l.d()}}}function H(r){let e,a=V(r[1].categories),t=[];for(let n=0;n<a.length;n+=1)t[n]=N(z(r,a,n));return{c(){e=v("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=b(n,"DIV",{class:!0});var c=k(e);for(let l=0;l<t.length;l+=1)t[l].l(c);c.forEach(g),this.h()},h(){p(e,"class","absolute left-2 top-2 z-10 flex w-full flex-wrap items-center gap-2")},m(n,c){C(n,e,c);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(n,c){if(c&1){a=V(n[1].categories);let l;for(l=0;l<a.length;l+=1){const i=z(n,a,l);t[l]?t[l].p(i,c):(t[l]=N(i),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},d(n){n&&g(e),A(t,n)}}}function N(r){let e,a=r[4]+"",t,n;return{c(){e=v("span"),t=M(a),n=$(),this.h()},l(c){e=b(c,"SPAN",{class:!0});var l=k(e);t=P(l,a),n=E(l),l.forEach(g),this.h()},h(){p(e,"class","mr-2 whitespace-nowrap rounded-md bg-violet-50/50 px-2 py-1 text-xs text-black")},m(c,l){C(c,e,l),m(e,t),m(e,n)},p(c,l){l&1&&a!==(a=c[4]+"")&&q(t,a)},d(c){c&&g(e)}}}function T(r){let e,a,t,n=r[1].title+"",c,l,i,s=r[1].description+"",I,f,u,o,w,S,h=r[1].image&&B(r);return o=new ee({props:{url:`/writings/${r[1].slug}`,label:"Read more"}}),{c(){e=v("div"),h&&h.c(),a=$(),t=v("h2"),c=M(n),l=$(),i=v("p"),I=M(s),f=$(),u=v("div"),Q(o.$$.fragment),w=$(),this.h()},l(d){e=b(d,"DIV",{class:!0});var _=k(e);h&&h.l(_),a=E(_),t=b(_,"H2",{class:!0});var j=k(t);c=P(j,n),j.forEach(g),l=E(_),i=b(_,"P",{class:!0});var y=k(i);I=P(y,s),y.forEach(g),f=E(_),u=b(_,"DIV",{class:!0});var O=k(u);U(o.$$.fragment,O),O.forEach(g),w=E(_),_.forEach(g),this.h()},h(){p(t,"class","mt-4 text-xl font-bold"),p(i,"class","mt-2"),p(u,"class","mt-4"),p(e,"class","relative rounded-md bg-gray-800 p-4 "+se())},m(d,_){C(d,e,_),h&&h.m(e,null),m(e,a),m(e,t),m(t,c),m(e,l),m(e,i),m(i,I),m(e,f),m(e,u),X(o,u,null),m(e,w),S=!0},p(d,_){d[1].image?h?h.p(d,_):(h=B(d),h.c(),h.m(e,a)):h&&(h.d(1),h=null),(!S||_&1)&&n!==(n=d[1].title+"")&&q(c,n),(!S||_&1)&&s!==(s=d[1].description+"")&&q(I,s);const j={};_&1&&(j.url=`/writings/${d[1].slug}`),o.$set(j)},i(d){S||(D(o.$$.fragment,d),S=!0)},o(d){x(o.$$.fragment,d),S=!1},d(d){d&&g(e),h&&h.d(),Y(o)}}}function le(r){let e,a,t,n="Writings",c,l,i=V(r[0].posts),s=[];for(let f=0;f<i.length;f+=1)s[f]=T(W(r,i,f));const I=f=>x(s[f],1,1,()=>{s[f]=null});return{c(){e=v("div"),a=v("section"),t=v("h1"),t.textContent=n,c=$();for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=b(f,"DIV",{class:!0});var u=k(e);a=b(u,"SECTION",{class:!0});var o=k(a);t=b(o,"H1",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1itn174"&&(t.textContent=n),c=E(o);for(let w=0;w<s.length;w+=1)s[w].l(o);o.forEach(g),u.forEach(g),this.h()},h(){p(t,"class","col-span-full text-4xl font-bold"),p(a,"class","section-glass relative mb-32 mt-3 grid grid-flow-row-dense auto-rows-auto grid-cols-1 gap-4 rounded-md p-8 text-white sm:grid-cols-2 lg:grid-cols-3"),p(e,"class","mx-auto max-w-4xl px-4")},m(f,u){C(f,e,u),m(e,a),m(a,t),m(a,c);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(a,null);l=!0},p(f,[u]){if(u&1){i=V(f[0].posts);let o;for(o=0;o<i.length;o+=1){const w=W(f,i,o);s[o]?(s[o].p(w,u),D(s[o],1)):(s[o]=T(w),s[o].c(),D(s[o],1),s[o].m(a,null))}for(Z(),o=i.length;o<s.length;o+=1)I(o);L()}},i(f){if(!l){for(let u=0;u<i.length;u+=1)D(s[u]);l=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)x(s[u]);l=!1},d(f){f&&g(e),A(s,f)}}}function se(){const r=["col-span-1 row-span-1","col-span-2 row-span-1","col-span-1 row-span-2","col-span-2 row-span-2"];return r[Math.floor(Math.random()*r.length)]}function ae(r,e,a){let{data:t}=e;return r.$$set=n=>{"data"in n&&a(0,t=n.data)},[t]}class ce extends F{constructor(e){super(),J(this,e,ae,le,G,{data:0})}}export{ce as component,ie as universal};
